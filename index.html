<!doctype html>
<html>
<head>
  <title> RockPaperScissors </title>
  <meta charset="utf-8">
</head>
<body>
  <script>

//function computerplay. A function that deteminates the computer's choice.
function computerplay(){
  let computer;
  let number=Math.random();
  if (number<=1/3){
    computer="rock"
  } else if (number <=2/3){
    computer="paper"
  }else{
    computer="scissors"
}
return (computer);
}

//Players choice
function playerplay(){
let playersChoice= prompt("Choose between rock, paper and scissors");
let selection= playersChoice.toLowerCase();
return (selection);
}

//Playing one round of rock, papers, scissors. The players selection is in a switch statement, the computer selection in if/else statements.
function playRound(selection1, selection2){
let text;
let value;
switch(selection1){
//Players selection=rock
  case "rock": 
      if (selection2=="rock"){
        text= "A draw. Rock and rock are even." ;
        value=0
      }else if (selection2== "paper"){
        text= "You lose! Paper beats rock." ;
        value= -1
      }else {
        text= "Yay, you win! Rock beats scissors." ;
        value=1
      }
    break;
  case "paper":
//Players selection=paper
      if (selection2=="rock"){
        text= "Yay, you win! Paper beats rock." ;
        value=1
      }else if (selection2== "paper"){
        text=  "A draw. Paper and Paper are even." ;
        value=0
      }else {
        text= "You lose! Scissors beats paper."
        value= -1
      } 
    break;
//Players selection=scissors
  case "scissors":
      if (selection2=="rock"){
        text= "You lose! Rock beats scissors."
        value= -1
      }else if (selection2== "paper"){
        text=  "Yay, you win! Scissors beats paper.";
        value=1
      }else {
        text=  "A draw. Scissors and scissors are even.";
        value=0
      } 
     break;
  default: 
    text="Choose between rock, paper or scissor, nothing else!";
    }
    console.log(text)
    return value
}

function game() {
let totalValue=5;
for(let i=0; i<5; i++){
let computerSelection=computerplay();
let playerSelection= playerplay();
totalValue += playRound( playerSelection,computerSelection);
} 
if(totalValue<5){
text="You did lose the game!"
} else if (totalValue==5){
text="It is a draw!"
} else {
text="You won!"
}
return text
}

console.log(game());

  </script>
</body>
</html>